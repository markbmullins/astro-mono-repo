---
import BubbleHeroSection from "../components/layout/BubbleHeroSection.astro";
import SVG from "../components/SVG.astro";
import Layout from "../layouts/Layout.astro";
---

<head slot="head">
  <meta
    name="description"
    content="Connect with Park Circle Web Design in Charleston, SC. Reach out to discuss your custom website, web application, or digital strategy. Weâ€™re here to help your business thrive online."
  />
</head>

<script>
  const form = document.getElementById("contactForm") as HTMLFormElement;
  form.addEventListener("submit", async (event) => {
    event.preventDefault();
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    // append reacptcha token here:
    // data.recaptchaToken = RECAPTCHA_TOKEN;

    console.log("Attempting to post form data: ", formData);
    try {
      const response = await fetch("/api/contact", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
      });

      const result = await response.json();
      console.log("Response:", result);

      // Trigger success or failure toast
    } catch (error) {
      console.error("Error submitting form:", error);
    }
  });
</script>

<Layout>
  <BubbleHeroSection> Contact</BubbleHeroSection>
  <section class="mx-auto max-w-7xl px-4 py-12">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
      <!-- Left Column -->
      <div class="text-primary dark:text-white">
        <!-- Top Labels -->
        <p
          class="text-sm font-semibold uppercase tracking-wides text-accentt dark:text-white mb-2"
        >
          Contact Us
        </p>
        <h2 class="mb-4 text-3xl font-bold dark:text-white sm:text-4xl">
          GET IN TOUCH
        </h2>
        <!-- Intro Paragraph -->
        <p class="mb-8 dark:text-white">
          Send us an email and let us know everything you want out of a new
          site. We respond to everyone within 24 hours of contacting us. Or give
          us a call and reach us immediately for a chat. If we are unavailable
          we will call back same day.
        </p>

        <!-- Contact Info: Phone -->
        <div class="mb-4 flex items-start space-x-4">
          <div
            class="flex h-12 w-12 items-center justify-center rounded-full bg-primary text-white"
          >
            <!-- Phone Icon  -->
            <SVG src="/assets/icons/smart-phone.svg" class="bg-white h-7 w-7" />
          </div>
          <div>
            <p class="text-lg font-semibold text-accent dark:text-white">
              Phone
            </p>
            <a href="tel:8436081481"
              ><p class="text-primary dark:text-white">(843) 608-1481</p></a
            >
          </div>
        </div>

        <!-- Contact Info: Email -->
        <div class="mb-4 flex items-start space-x-4">
          <div
            class="flex h-12 w-12 items-center justify-center rounded-full bg-primary text-white"
          >
            <!-- Email Icon -->
            <SVG src="/assets/icons/mail.svg" class="bg-white h-6 w-6" />
          </div>
          <div>
            <p class="text-lg font-semibold text-accent dark:text-white">
              Email
            </p>
            <a
              href="mailto:info@example.com"
              class="transition hover:underline"
            >
              Click To Email
            </a>
          </div>
        </div>

        <!-- Contact Info: Areas Served -->
        <div class="mb-4 flex items-start space-x-4">
          <div
            class="flex h-12 w-12 items-center justify-center rounded-full bg-primary text-white"
          >
            <!-- Globe/Location Icon (example) -->
            <SVG src="/assets/icons/location.svg" class="bg-white h-7 w-7" />
          </div>
          <div>
            <p class="text-lg font-semibold text-accent dark:text-white">
              Areas Served
            </p>
            <p class="text-primary dark:text-white">USA & Canada</p>
          </div>
        </div>
      </div>

      <!-- Right Column (Form) -->
      <div class="rounded-lg bg-white p-6 shadow lg:p-8">
        <h3 class="mb-4 text-2xl font-bold text-accent">MAKE APPOINTMENT</h3>
        <form action="#" id="contactForm" method="POST" class="space-y-4">
          <!-- Name -->
          <div>
            <label for="name" class="mb-1 block font-semibold text-gray-700">
              Name
            </label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Name"
              class="w-full rounded border border-gray-300 px-4 py-2 text-gray-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary"
            />
          </div>
          <!-- Email -->
          <div>
            <label for="email" class="mb-1 block font-semibold text-gray-700">
              Email
            </label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Email"
              class="w-full rounded border border-gray-300 px-4 py-2 text-gray-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary"
            />
          </div>
          <!-- Phone -->
          <div>
            <label for="phone" class="mb-1 block font-semibold text-gray-700">
              Phone
            </label>
            <input
              type="tel"
              id="phone"
              name="phone"
              placeholder="Phone"
              class="w-full rounded border border-gray-300 px-4 py-2 text-gray-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary"
            />
          </div>
          <!-- Message -->
          <div>
            <label for="message" class="mb-1 block font-semibold text-gray-700">
              Message
            </label>
            <textarea
              id="message"
              name="message"
              rows="4"
              placeholder="Write message..."
              class="w-full rounded border border-gray-300 px-4 py-2 text-gray-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary"
            ></textarea>
          </div>
          <!-- reCAPTCHA Placeholder -->
          <div class="flex items-center justify-center py-2">
            <p class="text-gray-400">[ reCAPTCHA widget ]</p>
          </div>
          <!-- Submit Button -->
          <button
            type="submit"
            class="rounded bg-primary px-6 py-2 font-semibold text-white transition hover:bg-primaryLight focus:outline-none focus:ring-2 focus:ring-primary"
          >
            SEND MESSAGE
          </button>
        </form>
      </div>
    </div>
  </section>
</Layout>
